/*
* parseHTML
* http://github.com/zmdy/parseHTML
* MIT Licensed
*
* Version 0.1.1
*
* Copyright (C) 2020 Hudson Uriel Ferreira, http://gihub.com/zmdy
*
* -------------------- *
*
* This is a personal project used to convert plain-text into HTML strucutures.
*
*/

var parseHTML=function(){"use strict";var e={version:"0.1.1",content:[],lastLine:null,rules:[]};function t(e,t){var n,r,u;n=e.split(/\u0023|\u002e/gm)[0],r=(e=e.replace(n,"")).split(/[^\u0023|\u002e]/gm).filter(function(e){return""!=e}),u=e.split(/\u0023|\u002e/gm).filter(function(e){return""!=e}),n=document.createElement(n);for(let e in r){var o=r[e].replace("#","id").replace(".","class");n.setAttribute(o,u[e])}if(t)try{t=t.replace(" ","."),document.querySelector(t).appendChild(n)}catch(e){document.querySelector(t).appendChild(n)}return n}return e.newRule=function(t,n){e.rulesCounter++,e.lastLine=t.toString(),t=function(e){var e=e.split(""),t="";for(let n in e)e[n].match(/[a-z]/i)||e[n].match(/[0-9]/i)?t+=e[n]:t+="\\u"+"0".repeat(4-e[n].charCodeAt(0).toString().length)+e[n].charCodeAt(0).toString(16);return t=new RegExp("^("+t+")$","gm")}(t),e.rules.push({RegExp:t,Structure:n})},e.parse=function(n,r){(function(t){var n=[[],[]],r=0,u="";for(let r in t)for(let u in e.rules)t[r].match(e.rules[u].RegExp)&&(n[0].push(r),n[1].push(u));for(let o in t)-1==n[0].indexOf(o)?u+="\n"+t[o]:(e.content.push({content:u,index:n[1][r]}),u="",r++);u!=parse.content[e.content.length-1]&&e.content.push({content:u,index:n[1][r-1]})})(n=(n+="\n"+e.lastLine).split("\n").filter(function(e){return""!=e})),function(n,r){var u=[];for(let l in e.content){var o;n=e.content[l].content,o=e.content[l].index,o=e.rules[o].Structure.split(">"),r&&(n=r(n));for(let e in o){var c=0==e?"body":o[e-1];if(document.querySelector(c+">"+o[e])||t(o[e],c),e==o.length-1){var i=document.querySelector(c+">"+o[e]).cloneNode(!0);u.push(document.querySelector(c+">"+o[e])),i.innerHTML=n,document.querySelector(c).appendChild(i)}}}for(let e in u)try{u[e].parentNode.removeChild(u[e])}catch(e){}}(n,r)},e};